{% extends "layouts/main.html" %}

{% set pageName="Apply for a business license" %}

{% block content %}

{# Macro to display task status #}
{% macro taskStatus(status) %}
  {% if status == 'completed' %}
    Completed
  {% elif status == 'in-progress' %}
    <strong class="govuk-tag govuk-tag--light-blue">In progress</strong>
  {% elif status == 'cannot-start-yet' %}
    <strong class="govuk-tag govuk-tag--grey">Cannot start yet</strong>
  {% else %}
    <strong class="govuk-tag govuk-tag--blue">Not started</strong>
  {% endif %}
{% endmacro %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

    <h1 class="govuk-heading-xl">
      Task list example
    </h1>

    {% if completedCount == totalTasks %}
    <h2 class="govuk-heading-s govuk-!-margin-bottom-2">Application complete</h2>
    <p class="govuk-body govuk-!-margin-bottom-7">You have completed all {{ totalTasks }} sections.</p>
    {% else %}
    <h2 class="govuk-heading-s govuk-!-margin-bottom-2">Application incomplete</h2>
    <p class="govuk-body govuk-!-margin-bottom-7">You have completed {{ completedCount }} of {{ totalTasks }} sections.</p>
    {% endif %}

    <ol class="govuk-task-list">
      <li>
        <h2 class="govuk-task-list__section">
          <span class="govuk-task-list__section-number">1. </span> Section 1
        </h2>
        <ul class="govuk-task-list__items">
          <li class="govuk-task-list__item {% if taskStatuses['task-1'] != 'cannot-start-yet' %}govuk-task-list__item--with-link{% endif %}">
            <div class="govuk-task-list__name-and-hint">
              {% if taskStatuses['task-1'] == 'cannot-start-yet' %}
                Task 1
              {% else %}
                <a class="govuk-link govuk-task-list__link" href="/task-1" aria-describedby="task-1-status">
                  Task 1
                </a>
              {% endif %}
            </div>
            <div class="govuk-task-list__status" id="task-1-status">
              {{ taskStatus(taskStatuses['task-1']) }}
            </div>
          </li>
          <li class="govuk-task-list__item {% if taskStatuses['task-2'] != 'cannot-start-yet' %}govuk-task-list__item--with-link{% endif %}">
            <div class="govuk-task-list__name-and-hint">
              {% if taskStatuses['task-2'] == 'cannot-start-yet' %}
                Task 2
              {% else %}
                <a class="govuk-link govuk-task-list__link" href="/task-2" aria-describedby="task-2-status">
                  Task 2
                </a>
              {% endif %}
            </div>
            <div class="govuk-task-list__status" id="task-2-status">
              {{ taskStatus(taskStatuses['task-2']) }}
            </div>
          </li>
          <li class="govuk-task-list__item {% if taskStatuses['task-3'] != 'cannot-start-yet' %}govuk-task-list__item--with-link{% endif %}">
            <div class="govuk-task-list__name-and-hint">
              {% if taskStatuses['task-3'] == 'cannot-start-yet' %}
                Task 3
              {% else %}
                <a class="govuk-link govuk-task-list__link" href="/task-3" aria-describedby="task-3-status">
                  Task 3
                </a>
              {% endif %}
            </div>
            <div class="govuk-task-list__status" id="task-3-status">
              {{ taskStatus(taskStatuses['task-3']) }}
            </div>
          </li>
        </ul>
      </li>

      <li>
        <h2 class="govuk-task-list__section">
          <span class="govuk-task-list__section-number">2. </span> Section 2
        </h2>
        <ul class="govuk-task-list__items">
          <li class="govuk-task-list__item {% if taskStatuses['task-4'] != 'cannot-start-yet' %}govuk-task-list__item--with-link{% endif %}">
            <div class="govuk-task-list__name-and-hint">
              {% if taskStatuses['task-4'] == 'cannot-start-yet' %}
                Task 4
              {% else %}
                <a class="govuk-link govuk-task-list__link" href="/task-4" aria-describedby="task-4-status">
                  Task 4
                </a>
              {% endif %}
            </div>
            <div class="govuk-task-list__status" id="task-4-status">
              {{ taskStatus(taskStatuses['task-4']) }}
            </div>
          </li>
          <li class="govuk-task-list__item {% if taskStatuses['task-5'] != 'cannot-start-yet' %}govuk-task-list__item--with-link{% endif %}">
            <div class="govuk-task-list__name-and-hint">
              {% if taskStatuses['task-5'] == 'cannot-start-yet' %}
                Task 5
              {% else %}
                <a class="govuk-link govuk-task-list__link" href="/task-5" aria-describedby="task-5-status">
                  Task 5
                </a>
              {% endif %}
            </div>
            <div class="govuk-task-list__status" id="task-5-status">
              {{ taskStatus(taskStatuses['task-5']) }}
            </div>
          </li>
        </ul>
      </li>

      <li>
        <h2 class="govuk-task-list__section">
          <span class="govuk-task-list__section-number">3. </span> Section 3
        </h2>
        <ul class="govuk-task-list__items">
          <li class="govuk-task-list__item {% if taskStatuses['task-6'] != 'cannot-start-yet' %}govuk-task-list__item--with-link{% endif %}">
            <div class="govuk-task-list__name-and-hint">
              {% if taskStatuses['task-6'] == 'cannot-start-yet' %}
                Task 6
              {% else %}
                <a class="govuk-link govuk-task-list__link" href="/task-6" aria-describedby="task-6-status">
                  Task 6
                </a>
              {% endif %}
            </div>
            <div class="govuk-task-list__status" id="task-6-status">
              {{ taskStatus(taskStatuses['task-6']) }}
            </div>
          </li>
          <li class="govuk-task-list__item {% if taskStatuses['task-7'] != 'cannot-start-yet' %}govuk-task-list__item--with-link{% endif %}">
            <div class="govuk-task-list__name-and-hint">
              {% if taskStatuses['task-7'] == 'cannot-start-yet' %}
                Task 7
              {% else %}
                <a class="govuk-link govuk-task-list__link" href="/task-7" aria-describedby="task-7-status">
                  Task 7
                </a>
              {% endif %}
            </div>
            <div class="govuk-task-list__status" id="task-7-status">
              {{ taskStatus(taskStatuses['task-7']) }}
            </div>
          </li>
        </ul>
      </li>

      <li>
        <h2 class="govuk-task-list__section">
          <span class="govuk-task-list__section-number">4. </span> Section 4
        </h2>
        <ul class="govuk-task-list__items">
          <li class="govuk-task-list__item {% if taskStatuses['task-8'] != 'cannot-start-yet' %}govuk-task-list__item--with-link{% endif %}">
            <div class="govuk-task-list__name-and-hint">
              {% if taskStatuses['task-8'] == 'cannot-start-yet' %}
                Task 8
              {% else %}
                <a class="govuk-link govuk-task-list__link" href="/task-8" aria-describedby="task-8-status">
                  Task 8
                </a>
              {% endif %}
            </div>
            <div class="govuk-task-list__status" id="task-8-status">
              {{ taskStatus(taskStatuses['task-8']) }}
            </div>
          </li>
          <li class="govuk-task-list__item {% if taskStatuses['task-9'] != 'cannot-start-yet' %}govuk-task-list__item--with-link{% endif %}">
            <div class="govuk-task-list__name-and-hint">
              {% if taskStatuses['task-9'] == 'cannot-start-yet' %}
                Task 9
              {% else %}
                <a class="govuk-link govuk-task-list__link" href="/task-9" aria-describedby="task-9-status">
                  Task 9
                </a>
              {% endif %}
            </div>
            <div class="govuk-task-list__status" id="task-9-status">
              {{ taskStatus(taskStatuses['task-9']) }}
            </div>
          </li>
        </ul>
      </li>
    </ol>

  </div>
</div>

{% endblock %}
